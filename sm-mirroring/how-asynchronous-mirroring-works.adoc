---
permalink: sm-mirroring/how-asynchronous-mirroring-works.html 
sidebar: sidebar 
keywords: SANtricity, System Manager, E-Series, asynchronous, mirroring, 
summary: 비동기식 미러링은 데이터 볼륨을 필요 시 또는 일정에 따라 복제하여 데이터 손상 또는 손실로 인한 다운타임을 최소화 또는 방지합니다. 
---
= 비동기식 미러링의 작동 방식
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
비동기식 미러링은 데이터 볼륨을 필요 시 또는 일정에 따라 복제하여 데이터 손상 또는 손실로 인한 다운타임을 최소화 또는 방지합니다.

비동기식 미러링은 특정 시점에 기본 볼륨의 상태를 캡처하고 마지막 이미지 캡처 이후 변경된 데이터만 복사합니다. 운영 사이트를 즉시 업데이트할 수 있으며 대역폭이 허용할 경우 보조 사이트를 업데이트할 수 있습니다. 네트워크 리소스를 사용할 수 있게 되면 정보가 캐시되어 나중에 전송됩니다.

이러한 유형의 미러링은 무중단 운영에 대한 요구를 충족하는 데 이상적이며, 일반적으로 백업 및 아카이브 같은 주기적인 프로세스에 대해 훨씬 더 네트워크 효율적입니다. 비동기식 미러링을 사용하는 이유는 다음과 같습니다.

* 원격 백업 통합.
* 로컬 또는 광역 재해로부터 보호
* 라이브 데이터의 특정 시점 이미지에서 애플리케이션 개발 및 테스트




== 비동기식 미러링 세션

비동기식 미러링은 특정 시점에 기본 볼륨의 상태를 캡처하고 마지막 이미지 캡처 이후 변경된 데이터만 복사합니다. 비동기식 미러링을 통해 운영 사이트를 즉시 업데이트하고 대역폭이 허용할 경우 2차 사이트를 업데이트할 수 있습니다. 네트워크 리소스를 사용할 수 있게 되면 정보가 캐시되어 나중에 전송됩니다.

액티브 비동기식 미러링 세션에는 4가지 기본 단계가 있습니다.

image::../media/sam-1130-dwg-async-mirroring-session.gif[SAM 1130 DWG 비동기 미러링 세션]

. 쓰기 작업은 먼저 운영 볼륨의 스토리지 시스템에서 수행됩니다.
. 작업 상태가 호스트로 반환됩니다.
. 운영 볼륨의 모든 변경 사항이 기록되고 추적됩니다.
. 모든 변경 사항은 백그라운드 프로세스로 보조 볼륨의 스토리지 어레이에 전송됩니다.


이러한 단계는 정의된 동기화 간격에 따라 반복되거나 간격이 정의되지 않은 경우 수동으로 반복할 수 있습니다.

비동기식 미러링은 설정된 간격으로만 데이터를 원격 사이트로 전송하므로, 로컬 I/O는 느린 네트워크 연결의 영향을 거의 받지 않습니다. 이 전송은 로컬 I/O에 연결되지 않으므로 애플리케이션 성능에 영향을 주지 않습니다. 따라서 비동기식 미러링은 iSCSI와 같은 느린 연결을 사용하고 로컬 스토리지 시스템과 원격 스토리지 시스템 간의 장거리 연결을 통해 실행될 수 있습니다.

스토리지 어레이의 펌웨어 버전은 최소한 7.84여야 합니다. (각 OS 버전은 서로 다를 수 있음)



== 정합성 보장 그룹 및 미러링된 페어 미러링

미러 정합성 보장 그룹을 생성하여 로컬 스토리지와 원격 스토리지 시스템 간의 미러링 관계를 설정합니다. 비동기식 미러링 관계는 미러링된 쌍으로 구성되며, 한 스토리지 어레이의 운영 볼륨과 다른 스토리지 어레이의 보조 볼륨으로 구성됩니다.

운영 볼륨이 포함된 스토리지 배열은 대개 운영 사이트에 있으며 활성 호스트를 제공합니다. 보조 볼륨이 포함된 스토리지 배열은 일반적으로 보조 사이트에 있으며 데이터 복제본을 보관합니다. 일반적으로 보조 볼륨에는 데이터의 백업 복사본이 포함되어 있으며 재해 복구에 사용됩니다.



== 동기화 설정

미러링된 페어를 생성할 때 통신 중단 후 미러링된 페어가 재동기화 작업을 완료하는 데 사용하는 동기화 우선 순위 및 재동기화 정책도 정의합니다.

미러 정합성 보장 그룹을 생성할 때 그룹 내의 모든 미러링된 페어에 대한 동기화 우선 순위 및 재동기화 정책도 정의합니다. 미러링된 페어는 동기화 우선 순위 및 재동기화 정책을 사용하여 통신이 중단된 후 재동기화 작업을 완료합니다.

운영 볼륨의 스토리지 배열이 보조 볼륨에 데이터를 쓸 수 없을 경우 미러링된 쌍의 운영 볼륨과 보조 볼륨의 동기화가 해제됩니다. 이 문제는 다음과 같은 문제로 인해 발생할 수 있습니다.

* 로컬 스토리지와 원격 스토리지 시스템 간의 네트워크 문제입니다.
* 장애가 발생한 보조 볼륨입니다.
* 동기화가 미러링된 쌍에서 수동으로 일시 중단됩니다.
* 미러 그룹 역할 충돌


원격 스토리지 배열의 데이터를 수동 또는 자동으로 동기화할 수 있습니다.



== 예약된 용량 및 비동기식 미러링

예약된 용량은 동기화가 발생하지 않을 때 운영 볼륨과 보조 볼륨 간의 차이를 추적하는 데 사용됩니다. 또한 각 미러링된 쌍에 대한 동기화 통계를 추적합니다.

미러링된 쌍의 각 볼륨은 고유한 예약 용량을 필요로 합니다.



== 구성 및 관리

두 어레이 간에 미러링을 설정하고 구성하려면 Unified Manager 인터페이스를 사용해야 합니다. 미러링이 활성화되면 System Manager에서 미러링된 쌍과 동기화 설정을 관리할 수 있습니다.
